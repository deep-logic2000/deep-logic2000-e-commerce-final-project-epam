const response = {
  limit: 20,
  offset: 0,
  count: 15,
  total: 15,
  results: [
    {
      id: '6e4c2f97-ede0-46f3-9b8f-148e9e22cce2',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.013Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.013Z',
      lastModifiedAt: '2023-08-01T22:17:13.013Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'other-men',
      name: {
        'en-US': 'Other',
      },
      slug: {
        'en-US': 'other_men',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'aebeb9c4-b5c3-41bd-9aec-0da398220c4e',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'aebeb9c4-b5c3-41bd-9aec-0da398220c4e',
      },
      orderHint: '0.3',
      assets: [],
    },
    {
      id: 'bed1298b-a664-4927-b9d3-54d51881a8a7',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:12.733Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:12.733Z',
      lastModifiedAt: '2023-08-01T22:17:12.733Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'kids',
      name: {
        'en-US': 'Kids',
      },
      slug: {
        'en-US': 'kids',
      },
      description: {
        'en-US': 'Items for kids',
      },
      ancestors: [],
      orderHint: '0.25',
      assets: [],
    },
    {
      id: '5e093833-bcb3-4bf5-82ea-54d682423b3e',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.013Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.013Z',
      lastModifiedAt: '2023-08-01T22:17:13.013Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'tops-men',
      name: {
        'en-US': 'Tops',
      },
      slug: {
        'en-US': 'tops_men',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'aebeb9c4-b5c3-41bd-9aec-0da398220c4e',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'aebeb9c4-b5c3-41bd-9aec-0da398220c4e',
      },
      orderHint: '0.6',
      assets: [],
    },
    {
      id: 'e8874819-6a62-4941-82df-f33c9d645075',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:12.681Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:12.681Z',
      lastModifiedAt: '2023-08-01T22:17:12.681Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'women',
      name: {
        'en-US': 'Women',
      },
      slug: {
        'en-US': 'women',
      },
      description: {
        'en-US': 'Items for women',
      },
      ancestors: [],
      orderHint: '0.5',
      assets: [],
    },
    {
      id: 'cf8777ff-d02f-4f72-bd3c-23511bbdc47c',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.036Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.036Z',
      lastModifiedAt: '2023-08-01T22:17:13.036Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'clothing-kids',
      name: {
        'en-US': 'Clothing',
      },
      slug: {
        'en-US': 'clothing_kids',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'bed1298b-a664-4927-b9d3-54d51881a8a7',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'bed1298b-a664-4927-b9d3-54d51881a8a7',
      },
      orderHint: '0.8',
      assets: [],
    },
    {
      id: '71d21d3a-e6d1-4e86-b512-5ea69c0a80d4',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.060Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.060Z',
      lastModifiedAt: '2023-08-01T22:17:13.060Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'tops-women',
      name: {
        'en-US': 'Tops',
      },
      slug: {
        'en-US': 'tops_women',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'e8874819-6a62-4941-82df-f33c9d645075',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'e8874819-6a62-4941-82df-f33c9d645075',
      },
      orderHint: '0.3',
      assets: [],
    },
    {
      id: 'aebeb9c4-b5c3-41bd-9aec-0da398220c4e',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:12.697Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:12.697Z',
      lastModifiedAt: '2023-08-01T22:17:12.697Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'men',
      name: {
        'en-US': 'Men',
      },
      slug: {
        'en-US': 'men',
      },
      description: {
        'en-US': 'Items for men',
      },
      ancestors: [],
      orderHint: '0.75',
      assets: [],
    },
    {
      id: 'a56bb0e6-cd34-49bb-8052-b5b742a3c775',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:12.994Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:12.994Z',
      lastModifiedAt: '2023-08-01T22:17:12.994Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'bottoms-men',
      name: {
        'en-US': 'Bottoms',
      },
      slug: {
        'en-US': 'bottoms_men',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'aebeb9c4-b5c3-41bd-9aec-0da398220c4e',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'aebeb9c4-b5c3-41bd-9aec-0da398220c4e',
      },
      orderHint: '0.4',
      assets: [],
    },
    {
      id: '7acbeb77-95ff-461a-b236-e7c38c03ecfe',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.061Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.061Z',
      lastModifiedAt: '2023-08-01T22:17:13.061Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'bottoms-women',
      name: {
        'en-US': 'Bottoms',
      },
      slug: {
        'en-US': 'bottoms_women',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'e8874819-6a62-4941-82df-f33c9d645075',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'e8874819-6a62-4941-82df-f33c9d645075',
      },
      orderHint: '0.4',
      assets: [],
    },
    {
      id: '310afecb-675b-4fd9-9555-9a0d2185a1b4',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.121Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.121Z',
      lastModifiedAt: '2023-08-01T22:17:13.121Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'bottoms_kids',
      name: {
        'en-US': 'Bottoms',
      },
      slug: {
        'en-US': 'bottoms_kids',
      },
      description: {
        'en-US': 'Bottoms',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'bed1298b-a664-4927-b9d3-54d51881a8a7',
        },
        {
          typeId: 'category',
          id: 'cf8777ff-d02f-4f72-bd3c-23511bbdc47c',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'cf8777ff-d02f-4f72-bd3c-23511bbdc47c',
      },
      orderHint: '0.3',
      assets: [],
    },
    {
      id: 'fb92918a-a7d4-4a61-9d3b-4c28747ba2d1',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.162Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.162Z',
      lastModifiedAt: '2023-08-01T22:17:13.162Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'tops-kids',
      name: {
        'en-US': 'Tops',
      },
      slug: {
        'en-US': 'tops_kids',
      },
      description: {
        'en-US': 'Tops',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'bed1298b-a664-4927-b9d3-54d51881a8a7',
        },
        {
          typeId: 'category',
          id: 'cf8777ff-d02f-4f72-bd3c-23511bbdc47c',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'cf8777ff-d02f-4f72-bd3c-23511bbdc47c',
      },
      orderHint: '0.3',
      assets: [],
    },
    {
      id: '41dd7f4c-07e8-4ca9-9b0a-a124416bd582',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.045Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.045Z',
      lastModifiedAt: '2023-08-01T22:17:13.045Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'other-women',
      name: {
        'en-US': 'Other',
      },
      slug: {
        'en-US': 'other_women',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'e8874819-6a62-4941-82df-f33c9d645075',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'e8874819-6a62-4941-82df-f33c9d645075',
      },
      orderHint: '0.5',
      assets: [],
    },
    {
      id: 'd323cdeb-915e-463d-b8f7-88bb02aba62e',
      version: 1,
      versionModifiedAt: '2023-08-01T22:17:13.036Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-01T22:17:13.036Z',
      lastModifiedAt: '2023-08-01T22:17:13.036Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'other-kids',
      name: {
        'en-US': 'Other',
      },
      slug: {
        'en-US': 'other_kids',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'bed1298b-a664-4927-b9d3-54d51881a8a7',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'bed1298b-a664-4927-b9d3-54d51881a8a7',
      },
      orderHint: '0.25',
      assets: [],
    },
    {
      id: 'd8e6ac7a-dc1d-458f-827e-3818ad156309',
      version: 1,
      versionModifiedAt: '2023-08-28T17:32:41.338Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-28T17:32:41.338Z',
      lastModifiedAt: '2023-08-28T17:32:41.338Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'electric',
      name: {
        'en-US': 'Electric',
      },
      slug: {
        'en-US': 'electric',
      },
      description: {
        'en-US': 'Electric',
      },
      ancestors: [],
      orderHint: '0.5',
      assets: [],
    },
    {
      id: '1501cc9d-57ae-4b19-aafe-d68455df9db1',
      version: 2,
      versionModifiedAt: '2023-08-28T17:32:58.730Z',
      lastMessageSequenceNumber: 1,
      createdAt: '2023-08-28T17:32:41.407Z',
      lastModifiedAt: '2023-08-28T17:32:58.730Z',
      lastModifiedBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      createdBy: {
        isPlatformClient: true,
        user: {
          typeId: 'user',
          id: '26fb9957-171b-4125-ac65-c9ba23775d71',
        },
      },
      key: 'les-paul',
      name: {
        'en-US': 'Les Paul',
      },
      slug: {
        'en-US': 'les-paul',
      },
      description: {
        'en-US': 'Les Paul',
      },
      ancestors: [
        {
          typeId: 'category',
          id: 'd8e6ac7a-dc1d-458f-827e-3818ad156309',
        },
      ],
      parent: {
        typeId: 'category',
        id: 'd8e6ac7a-dc1d-458f-827e-3818ad156309',
      },
      orderHint: '0.6',
      metaKeywords: {
        ru: '\r',
      },
      assets: [],
    },
  ],
};

export interface ICategory {
  id: string;
  name: string;
  parent?: string;
  subcategories?: ICategory[];
}

const categories: ICategory[] = [] as ICategory[];

response.results.forEach((item) => {
  categories.push({
    id: item.id,
    name: item.name['en-US'],
    parent: item.parent?.id,
  });
});

const arrayToTree = (arr: ICategory[], parent?: string): ICategory[] =>
  arr
    .filter((item) => item.parent === parent)
    .map((subcategory) => ({
      ...subcategory,
      subcategories: arrayToTree(arr, subcategory.id),
    }));

export const categoriesList = arrayToTree(categories);
